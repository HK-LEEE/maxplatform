# MAX Platform Production 환경 설정
# 운영 환경용 설정 파일 (max.chem.co.kr)

# =================
# 공통 설정
# =================
MAX_PLATFORM_ENVIRONMENT=production
MAX_PLATFORM_DOMAIN=max.chem.co.kr

# =================
# Backend 설정
# =================
MAX_PLATFORM_HOST=0.0.0.0
# 3개 포트로 로드밸런싱 (nginx에서 프록시)
MAX_PLATFORM_PORT=8000,8001,8002
MAX_PLATFORM_API_URL=https://max.chem.co.kr

# Frontend URL (OAuth 리다이렉트용)
MAX_PLATFORM_FRONTEND_URL=https://max.chem.co.kr

# =================
# Frontend 설정 (React)
# =================
VITE_ENVIRONMENT=production
VITE_API_BASE_URL=https://max.chem.co.kr
VITE_FRONTEND_URL=https://max.chem.co.kr
VITE_DEBUG_MODE=false
VITE_API_TIMEOUT=30000

# =================
# MAX Platform 서비스 URL (Production)
# =================
# MAX FlowStudio
MAX_FLOWSTUDIO_URL=https://flowstudio.max.chem.co.kr
MAX_FLOWSTUDIO_CALLBACK_URL=https://flowstudio.max.chem.co.kr/oauth/callback
VITE_MAX_FLOWSTUDIO_URL=https://flowstudio.max.chem.co.kr

# MAX TeamSync
MAX_TEAMSYNC_URL=https://teamsync.max.chem.co.kr
MAX_TEAMSYNC_CALLBACK_URL=https://teamsync.max.chem.co.kr/oauth/callback
VITE_MAX_TEAMSYNC_URL=https://teamsync.max.chem.co.kr

# MAX Lab
MAX_LAB_URL=https://maxlab.chem.co.kr
MAX_LAB_CALLBACK_URL=https://maxlab.chem.co.kr/oauth/callback
VITE_MAX_LAB_URL=https://maxlab.chem.co.kr

# MAX Workspace
MAX_WORKSPACE_URL=https://workspace.max.chem.co.kr
MAX_WORKSPACE_CALLBACK_URL=https://workspace.max.chem.co.kr/oauth/callback
VITE_MAX_WORKSPACE_URL=https://workspace.max.chem.co.kr

# MAX APA
MAX_APA_URL=https://apa.max.chem.co.kr
MAX_APA_CALLBACK_URL=https://apa.max.chem.co.kr/oauth/callback
VITE_MAX_APA_URL=https://apa.max.chem.co.kr

# MAX MLOps
MAX_MLOPS_URL=https://mlops.max.chem.co.kr
MAX_MLOPS_CALLBACK_URL=https://mlops.max.chem.co.kr/oauth/callback
VITE_MAX_MLOPS_URL=https://mlops.max.chem.co.kr

# MAX QueryHub
MAX_QUERYHUB_URL=https://queryhub.max.chem.co.kr
MAX_QUERYHUB_CALLBACK_URL=https://queryhub.max.chem.co.kr/oauth/callback
VITE_MAX_QUERYHUB_URL=https://queryhub.max.chem.co.kr

# MAX LLM
MAX_LLM_URL=https://llm.max.chem.co.kr
MAX_LLM_CALLBACK_URL=https://llm.max.chem.co.kr/oauth/callback
VITE_MAX_LLM_URL=https://llm.max.chem.co.kr

# =================
# 외부 서비스 URL
# =================
OLLAMA_BASE_URL=https://ollama.max.chem.co.kr:11434
JUPYTER_BASE_URL=https://jupyter.max.chem.co.kr
VITE_OLLAMA_BASE_URL=https://ollama.max.chem.co.kr:11434
VITE_JUPYTER_BASE_URL=https://jupyter.max.chem.co.kr

# =================
# OAuth 설정
# =================
VITE_OAUTH_CLIENT_ID=maxplatform-frontend
VITE_OAUTH_SCOPE=read:profile read:groups read:features

# =================
# 데이터베이스 설정 (Production)
# =================
DATABASE_TYPE=postgresql
DATABASE_URL=postgresql://maxplatform:${DB_PASSWORD}@localhost:5432/maxplatform_production

# JWT 설정 (Production)
SECRET_KEY=${JWT_SECRET_KEY}
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# =================
# LLM 설정
# =================
DEFAULT_LLM_PROVIDER=azure
OLLAMA_DEFAULT_MODEL=llama3.2
MAX_TOKENS=4000
TEMPERATURE=0.1

# Azure OpenAI 설정 (Production)
AZURE_OPENAI_ENDPOINT=${AZURE_OPENAI_ENDPOINT}
AZURE_OPENAI_API_KEY=${AZURE_OPENAI_API_KEY}
AZURE_OPENAI_API_VERSION=2024-02-15-preview
AZURE_OPENAI_DEPLOYMENT_NAME=gpt-4o

# ChromaDB 설정
CHROMA_PORT=8003

# =================
# 보안 설정
# =================
# CORS 설정
CORS_ORIGINS=https://max.chem.co.kr,https://flowstudio.max.chem.co.kr,https://teamsync.max.chem.co.kr,https://maxlab.chem.co.kr,https://workspace.max.chem.co.kr,https://apa.max.chem.co.kr,https://mlops.max.chem.co.kr,https://queryhub.max.chem.co.kr,https://llm.max.chem.co.kr

# SSL/TLS 설정
USE_SSL=true
SSL_CERT_PATH=/etc/letsencrypt/live/max.chem.co.kr/fullchain.pem
SSL_KEY_PATH=/etc/letsencrypt/live/max.chem.co.kr/privkey.pem

# =================
# 로깅 설정
# =================
LOG_LEVEL=INFO
LOG_FILE_PATH=/var/log/maxplatform/max/app.log
ENABLE_ACCESS_LOG=true