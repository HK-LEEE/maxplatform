2|maxplatform-backend-8002  | 2025-08-07T12:28:15: 2025-08-07 12:28:15.371 [INFO] uvicorn.access:496 - 192.168.15.220:0 - "POST /api/security/events HTTP/1.1" 500
2|maxplatform-backend-8002  | 2025-08-07T12:28:15: 2025-08-07 12:28:15.968 [WARNING] app.api.security_events:145 - Duplicate event_id detected: evt_1754535024032_fabfx6j4
2|maxplatform-backend-8002  | 2025-08-07T12:28:15: 2025-08-07 12:28:15.969 [WARNING] app.api.security_events:145 - Duplicate event_id detected: evt_1754536540022_x47qv5gj
2|maxplatform-backend-8002  | 2025-08-07T12:28:15: 2025-08-07 12:28:15.970 [WARNING] app.api.security_events:145 - Duplicate event_id detected: evt_1754536540047_5pic4m40
2|maxplatform-backend-8002  | 2025-08-07T12:28:15: 2025-08-07 12:28:15.972 [ERROR] app.api.security_events:289 - Failed to process security events: 'User' object has no attribute 'username'
2|maxplatform-backend-8002  | 2025-08-07T12:28:15: 2025-08-07 12:28:15.972 [INFO] uvicorn.access:496 - 192.168.9.87:0 - "POST /api/security/events HTTP/1.1" 500
0|maxplatform-backend-8000  | 2025-08-07T12:28:16: 2025-08-07 12:28:16.380 [WARNING] app.api.security_events:145 - Duplicate event_id detected: evt_1754537267288_6ux82ren
0|maxplatform-backend-8000  | 2025-08-07T12:28:16: 2025-08-07 12:28:16.382 [ERROR] app.api.security_events:289 - Failed to process security events: 'User' object has no attribute 'username'
0|maxplatform-backend-8000  | 2025-08-07T12:28:16: 2025-08-07 12:28:16.383 [INFO] uvicorn.access:496 - 192.168.15.220:0 - "POST /api/security/events HTTP/1.1" 500
0|maxplatform-backend-8000  | 2025-08-07T12:28:17: 2025-08-07 12:28:17.962 [WARNING] app.api.security_events:145 - Duplicate event_id detected: evt_1754535024032_fabfx6j4
0|maxplatform-backend-8000  | 2025-08-07T12:28:17: 2025-08-07 12:28:17.962 [WARNING] app.api.security_events:145 - Duplicate event_id detected: evt_1754536540022_x47qv5gj
0|maxplatform-backend-8000  | 2025-08-07T12:28:17: 2025-08-07 12:28:17.963 [WARNING] app.api.security_events:145 - Duplicate event_id detected: evt_1754536540047_5pic4m40
0|maxplatform-backend-8000  | 2025-08-07T12:28:17: 2025-08-07 12:28:17.966 [ERROR] app.api.security_events:289 - Failed to process security events: 'User' object has no attribute 'username'
0|maxplatform-backend-8000  | 2025-08-07T12:28:17: 2025-08-07 12:28:17.967 [INFO] uvicorn.access:496 - 192.168.9.87:0 - "POST /api/security/events HTTP/1.1" 500
1|maxplatform-backend-8001  | 2025-08-07T12:28:18: 2025-08-07 12:28:18.394 [WARNING] app.api.security_events:145 - Duplicate event_id detected: evt_1754537267288_6ux82ren
1|maxplatform-backend-8001  | 2025-08-07T12:28:18: 2025-08-07 12:28:18.396 [ERROR] app.api.security_events:289 - Failed to process security events: 'User' object has no attribute 'username'
1|maxplatform-backend-8001  | 2025-08-07T12:28:18: 2025-08-07 12:28:18.397 [INFO] uvicorn.access:496 - 192.168.15.220:0 - "POST /api/security/events HTTP/1.1" 500



Layout was forced before the page was fully loaded. If stylesheets are not yet loaded this may cause a flash of unstyled content. node.js:417:1
ğŸ”„ Rehydrating auth state for initialization 
Object { state: {â€¦} }
index-cMDFwych.js:228:3201
ğŸ†• New or unauthenticated user, preparing for silent auth attempt index-cMDFwych.js:228:3948
ğŸ›¡ï¸ CSRF protection initialized with existing token index-cMDFwych.js:262:5675
WEBGL_debug_renderer_info is deprecated in Firefox and will be removed. Please use RENDERER. index-cMDFwych.js:262:20427
âœ… Auth sync initialized with BroadcastChannel index-cMDFwych.js:262:84110
ğŸ”„ Auth state change: idle â†’ silent_auth 
Object { isAuthenticated: false, hasUser: false, stackTrace: (3) [â€¦] }
index-cMDFwych.js:227:3352
ğŸ”‡ Attempting silent SSO login... index-cMDFwych.js:262:89795
ğŸš« Unsafe path for token refresh: /login index-cMDFwych.js:257:17983
ğŸš« Silent auth not allowed on current page: /login index-cMDFwych.js:257:16004
â„¹ï¸ Silent SSO login failed: Cannot attempt silent auth on current page index-cMDFwych.js:262:91379
ğŸ”„ Auth state change: silent_auth â†’ ready 
Object { isAuthenticated: false, hasUser: false, stackTrace: (3) [â€¦] }
index-cMDFwych.js:227:3352
ğŸš« Unsafe path for token refresh: /login index-cMDFwych.js:257:17983
ğŸ”¥ Login component render - current state: 
Object { isAuthenticated: false, oauthLoading: false, silentLoginAttempting: false, hasLoggedOutRef: false, authAttemptRef: false }
index-cMDFwych.js:752:4401
ğŸ›‘ User not authenticated, stopping token refresh index-cMDFwych.js:262:103220
ğŸ”¥ Component mounted, current oauthLoading: false index-cMDFwych.js:752:4989
ğŸ”¥ Login component render - current state: 
Object { isAuthenticated: false, oauthLoading: false, silentLoginAttempting: true, hasLoggedOutRef: false, authAttemptRef: true }
index-cMDFwych.js:752:4401
ğŸ”„ Logout detected, resetting login component state index-cMDFwych.js:752:5395
ğŸ”¥ Login component render - current state: 
Object { isAuthenticated: false, oauthLoading: false, silentLoginAttempting: false, hasLoggedOutRef: true, authAttemptRef: false }
index-cMDFwych.js:752:4401
ğŸš« Force account selection detected, skipping silent login index-cMDFwych.js:752:5850
ğŸ”¥ Login component render - current state: 
Object { isAuthenticated: false, oauthLoading: false, silentLoginAttempting: false, hasLoggedOutRef: true, authAttemptRef: false }
index-cMDFwych.js:752:4401
ğŸ”¥ handleOAuthLogin called with forceAccountSelection: false index-cMDFwych.js:752:6765
ğŸ”¥ Current oauthLoading state: false index-cMDFwych.js:752:6837
ğŸ”¥ Current isAuthenticated state: false index-cMDFwych.js:752:6885
ğŸ”¥ Setting oauthLoading to true index-cMDFwych.js:752:7091
ğŸš€ About to call loginWithPopupOAuth with forceAccountSelection: false index-cMDFwych.js:752:10735
ğŸ“Š Current state: 
Object { isAuthenticated: false, oauthLoading: false, hasAccessToken: false, hasUser: false, forceAccountSelectionFlag: "true" }
index-cMDFwych.js:752:10817
ğŸ”¥ About to call authService.loginWithPopupOAuth index-cMDFwych.js:752:11275
ğŸ”¥ authService object: 
Object { loginWithPopupOAuth: async loginWithPopupOAuth(e), attemptSilentLogin: async attemptSilentLogin(), getCurrentUser: async getCurrentUser(), validateToken: async validateToken(), logout: async logout(e), _secureCleanup: async _secureCleanup(), isAuthenticated: isAuthenticated(), getStoredUser: getStoredUser(), redirectToSignup: redirectToSignup(), refreshToken: async refreshToken(e), â€¦ }
index-cMDFwych.js:752:11339
ğŸ”¥ forceAccountSelection: false index-cMDFwych.js:752:11380
ğŸ” OAuth Configuration: 
Object { clientId: "maxlab", redirectUri: "https://maxlab.dwchem.co.kr/oauth/callback", authUrl: "https://max.dwchem.co.kr", envAuthUrl: "https://max.dwchem.co.kr", currentOrigin: "https://maxlab.dwchem.co.kr" }
index-cMDFwych.js:228:20660
ğŸ” Starting popup OAuth login (force account selection: false)... index-cMDFwych.js:262:86356
ğŸ”¥ Login component render - current state: 
Object { isAuthenticated: false, oauthLoading: true, silentLoginAttempting: false, hasLoggedOutRef: true, authAttemptRef: false }
index-cMDFwych.js:752:4401
ğŸ” OAuth flow state created: 
Object { flowId: "me0tyrghlbd9d8h6fe8", flowType: "popup", expiresIn: "900s", forceAccountSelection: false }
index-cMDFwych.js:228:12030
ğŸ”„ OAuth flow status updated: 
Object { flowId: "me0tyrghlbd9d8h6fe8", status: "in_progress", flowType: "popup" }
index-cMDFwych.js:228:14630
ğŸ” OAuth Flow State Created: 
Object { flowId: "me0tyrghlbd9d8h6fe8", flowType: "popup", state: "08O5BkDW...", codeVerifier: "69G558OV...", nonce: "7BfrA4GL...", forceAccountSelection: false, expiresAt: "2025-08-07T03:36:33.569Z", timestamp: "2025-08-07T03:21:33.570Z" }
index-cMDFwych.js:228:22943
ğŸ” Opening OAuth popup: https://max.dwchem.co.kr/api/oauth/authorize?response_type=code&client_id=maxlab&redirect_uri=https%3A%2F%2Fmaxlab.dwchem.co.kr%2Foauth%2Fcallback&scope=openid+profile+email+offline_access+read%3Aprofile+read%3Agroups+manage%3Aworkflows&state=08O5BkDWyqv1yQxEmAk4LigQf6odKDYKegH_aZ_8gtM&code_challenge=lCsSpVwqMi_3B7jur4qq-Xs0niV1Behpu02OKevbbaM&code_challenge_method=S256&nonce=7BfrA4GL_ooZBD2Mhiq6kFFgVdsKKa7t4u6JzgASU4U index-cMDFwych.js:228:24242
ğŸ“‹ Full OAuth URL params: response_type=code&client_id=maxlab&redirect_uri=https%3A%2F%2Fmaxlab.dwchem.co.kr%2Foauth%2Fcallback&scope=openid+profile+email+offline_access+read%3Aprofile+read%3Agroups+manage%3Aworkflows&state=08O5BkDWyqv1yQxEmAk4LigQf6odKDYKegH_aZ_8gtM&code_challenge=lCsSpVwqMi_3B7jur4qq-Xs0niV1Behpu02OKevbbaM&code_challenge_method=S256&nonce=7BfrA4GL_ooZBD2Mhiq6kFFgVdsKKa7t4u6JzgASU4U index-cMDFwych.js:228:24283
ğŸ“¡ Setting up message listeners before popup... index-cMDFwych.js:228:24337
âœ… OAuth popup opened successfully index-cMDFwych.js:233:153
ğŸ“¨ Parent window received message: 
Object { type: "OAUTH_LOGIN_SUCCESS_CONTINUE", oauthParams: {â€¦}, timestamp: 1754536895388 }
index-cMDFwych.js:228:24433
ğŸ“¨ OAuth message validation: 
Object { origin: "https://max.dwchem.co.kr", messageType: "OAUTH_LOGIN_SUCCESS_CONTINUE", validationResult: {â€¦}, trustedOrigins: "https://maxlab.dwchem.co.kr,https://max.dwchem.co.kr,https://dwchem.co.kr..." }
index-cMDFwych.js:233:4457
ğŸš¨ SECURITY: Invalid message structure detected: 
Object { origin: "https://max.dwchem.co.kr", messageData: {â€¦}, expectedStructure: "OAuthMessage with type and data fields" }
index-cMDFwych.js:233:5004
âš ï¸ MEDIUM SECURITY VIOLATION: 
Object { timestamp: "2025-08-07T03:21:35.392Z", event: "oauth_security_violation", violation_type: "invalid_message_structure", origin: "https://max.dwchem.co.kr", expected_origin: "https://maxlab.dwchem.co.kr", message_type: "OAUTH_LOGIN_SUCCESS_CONTINUE", reason: undefined, severity: "medium", user_agent: "Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:141.0) Gecko/20100101 Firefox/141.0", referrer: "https://maxlab.dwchem.co.kr/", â€¦ }
index-cMDFwych.js:257:4463
ğŸ“¨ Parent window received message: 
Object { type: "OAUTH_ALREADY_AUTHENTICATED", oauthParams: {â€¦}, timestamp: 1754536895390 }
index-cMDFwych.js:228:24433
ğŸ“¨ OAuth message validation: 
Object { origin: "https://max.dwchem.co.kr", messageType: "OAUTH_ALREADY_AUTHENTICATED", validationResult: {â€¦}, trustedOrigins: "https://maxlab.dwchem.co.kr,https://max.dwchem.co.kr,https://dwchem.co.kr..." }
index-cMDFwych.js:233:4457
ğŸš¨ SECURITY: Invalid message structure detected: 
Object { origin: "https://max.dwchem.co.kr", messageData: {â€¦}, expectedStructure: "OAuthMessage with type and data fields" }
index-cMDFwych.js:233:5004
âš ï¸ MEDIUM SECURITY VIOLATION: 
Object { timestamp: "2025-08-07T03:21:35.393Z", event: "oauth_security_violation", violation_type: "invalid_message_structure", origin: "https://max.dwchem.co.kr", expected_origin: "https://maxlab.dwchem.co.kr", message_type: "OAUTH_ALREADY_AUTHENTICATED", reason: undefined, severity: "medium", user_agent: "Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:141.0) Gecko/20100101 Firefox/141.0", referrer: "https://maxlab.dwchem.co.kr/", â€¦ }
index-cMDFwych.js:257:4463
ğŸšª Popup closed without receiving message - attempting cross-origin recovery index-cMDFwych.js:233:339
ğŸ”„ Attempting cross-origin OAuth recovery (attempt 1/3) index-cMDFwych.js:228:5887




ğŸ”„ Rehydrating auth state for initialization 
Object { state: {â€¦} }
index-cMDFwych.js:228:3201
ğŸ†• New or unauthenticated user, preparing for silent auth attempt index-cMDFwych.js:228:3948
ğŸ›¡ï¸ New CSRF token generated index-cMDFwych.js:262:6222
ğŸ›¡ï¸ CSRF protection initialized with new token index-cMDFwych.js:262:5768
WEBGL_debug_renderer_info is deprecated in Firefox and will be removed. Please use RENDERER. index-cMDFwych.js:262:20427
âœ… Auth sync initialized with BroadcastChannel index-cMDFwych.js:262:84110
ğŸ”„ Auth state change: idle â†’ silent_auth 
Object { isAuthenticated: false, hasUser: false, stackTrace: (3) [â€¦] }
index-cMDFwych.js:227:3352
ğŸ”‡ Attempting silent SSO login... index-cMDFwych.js:262:89795
ğŸš« Popup OAuth in progress, cannot start silent auth index-cMDFwych.js:257:16691
â„¹ï¸ Silent SSO login failed: Popup OAuth in progress index-cMDFwych.js:262:91379
ğŸ”„ Auth state change: silent_auth â†’ ready 
Object { isAuthenticated: false, hasUser: false, stackTrace: (3) [â€¦] }
index-cMDFwych.js:227:3352
ğŸ›‘ User not authenticated, stopping token refresh index-cMDFwych.js:262:103220
ğŸš« Unsafe path for token refresh: /login index-cMDFwych.js:257:17983
ğŸ”¥ Login component render - current state: 
Object { isAuthenticated: false, oauthLoading: false, silentLoginAttempting: false, hasLoggedOutRef: false, authAttemptRef: false }
index-cMDFwych.js:752:4401
ğŸ›‘ User not authenticated, stopping token refresh index-cMDFwych.js:262:103220
ğŸ”¥ Component mounted, current oauthLoading: false index-cMDFwych.js:752:4989
ğŸ”¥ Login component render - current state: 
Object { isAuthenticated: false, oauthLoading: false, silentLoginAttempting: true, hasLoggedOutRef: false, authAttemptRef: true }
index-cMDFwych.js:752:4401
ğŸ”„ Logout detected, resetting login component state index-cMDFwych.js:752:5395
ğŸ”¥ Login component render - current state: 
Object { isAuthenticated: false, oauthLoading: false, silentLoginAttempting: false, hasLoggedOutRef: true, authAttemptRef: false }
index-cMDFwych.js:752:4401
ğŸš« Force account selection detected, skipping silent login index-cMDFwych.js:752:5850
ğŸ”¥ Login component render - current state: 
Object { isAuthenticated: false, oauthLoading: false, silentLoginAttempting: false, hasLoggedOutRef: true, authAttemptRef: false }
index-cMDFwych.js:752:4401
ğŸšª Different user login button clicked! index-cMDFwych.js:768:2959
ğŸ”¥ Event: 
Object { _reactName: "onClick", _targetInst: null, type: "click", nativeEvent: click, target: button.w-full.py-2.text-sm.font-medium.rounded-lg.border-2.border-blue-600.focus:outline-none.focus:ring-2.focus:ring-offset-2.focus:ring-blue-600.transition-colors.flex.items-center.justify-center.space-x-2.text-blue-600.hover:bg-blue-50, currentTarget: button.w-full.py-2.text-sm.font-medium.rounded-lg.border-2.border-blue-600.focus:outline-none.focus:ring-2.focus:ring-offset-2.focus:ring-blue-600.transition-colors.flex.items-center.justify-center.space-x-2.text-blue-600.hover:bg-blue-50, eventPhase: 3, bubbles: true, cancelable: true, timeStamp: 986, â€¦ }
index-cMDFwych.js:768:3014
ğŸ”¥ Event target: 
<button class="w-full py-2 text-sm fontâ€¦ue-600 hover:bg-blue-50">
index-cMDFwych.js:768:3041
ğŸ”¥ Event currentTarget: 
<button class="w-full py-2 text-sm fontâ€¦ue-600 hover:bg-blue-50">
index-cMDFwych.js:768:3082
ğŸ”¥ Button disabled: false index-cMDFwych.js:768:3137
Current state: 
Object { isAuthenticated: false, oauthLoading: false, hasLoggedOutRef: true, authAttemptRef: false, buttonDisabled: false }
index-cMDFwych.js:768:3197
ğŸ”¥ About to call handleOAuthLogin(true) index-cMDFwych.js:768:3369
ğŸ”¥ handleOAuthLogin called with forceAccountSelection: true index-cMDFwych.js:752:6765
ğŸ”¥ Current oauthLoading state: false index-cMDFwych.js:752:6837
ğŸ”¥ Current isAuthenticated state: false index-cMDFwych.js:752:6885
ğŸ”¥ Setting oauthLoading to true index-cMDFwych.js:752:7091
ğŸ”„ Different user login requested, performing comprehensive security cleanup... index-cMDFwych.js:752:7247
Cookie â€œcsrf_tokenâ€ has been rejected for invalid domain. 2 maxlab.dwchem.co.kr
ğŸª OAuth provider cookies cleared oauthProviderLogout-DCXWQ30C.js:1:2542
ğŸª OAuth provider cookies cleared index-cMDFwych.js:262:94034
ğŸ§¹ Refresh token cleared from secure storage index-cMDFwych.js:262:26148
ğŸ§¹ Refresh token cleared from secure storage index-cMDFwych.js:262:51859
ğŸ§¹ Clearing all user tokens... index-cMDFwych.js:262:32126
ğŸ§¹ Refresh token cleared from secure storage index-cMDFwych.js:262:26148
âœ… Cleared tokens for 0 users index-cMDFwych.js:262:32415
ğŸ” User-isolated tokens cleared index-cMDFwych.js:262:54881
ğŸ§¹ All tokens cleared index-cMDFwych.js:262:54993
ğŸ”’ Starting comprehensive security cleanup... index-cMDFwych.js:262:94270
ğŸ§¹ Refresh token cleared from secure storage index-cMDFwych.js:262:26148
ğŸ§¹ Refresh token cleared from secure storage index-cMDFwych.js:262:51859
ğŸ§¹ Clearing all user tokens... index-cMDFwych.js:262:32126
ğŸ§¹ Refresh token cleared from secure storage index-cMDFwych.js:262:26148
âœ… Cleared tokens for 0 users index-cMDFwych.js:262:32415
ğŸ” User-isolated tokens cleared index-cMDFwych.js:262:54881
ğŸ§¹ All tokens cleared index-cMDFwych.js:262:54993
ğŸ§¹ Clearing all user tokens... index-cMDFwych.js:262:32126
ğŸ§¹ Refresh token cleared from secure storage index-cMDFwych.js:262:26148
âœ… Cleared tokens for 0 users index-cMDFwych.js:262:32415
ğŸ”’ Starting comprehensive browser security cleanup... index-cMDFwych.js:262:72262
âœ… Cleared 1 localStorage items index-cMDFwych.js:262:72396
âœ… Cleared 8 sessionStorage items index-cMDFwych.js:262:72575
âœ… Cleared 0 cookies index-cMDFwych.js:262:72750
ğŸšª Clearing OAuth provider session for different user login... index-cMDFwych.js:752:7710
âœ… OAuth tokens revoked - primary logout mechanism completed oauthProviderLogout-DCXWQ30C.js:1:183
âœ… OAuth logout completed via token revocation oauthProviderLogout-DCXWQ30C.js:1:372
â„¹ï¸ Skipping OAuth server session logout (endpoint not implemented) oauthProviderLogout-DCXWQ30C.js:1:433
âœ… OAuth provider session cleared for different user login index-cMDFwych.js:752:7903
ğŸ“Š Logout method used: revocation index-cMDFwych.js:752:7976
Cookie with an empty name and an empty value has been rejected. 3 maxlab.dwchem.co.kr
ğŸª OAuth provider cookies cleared oauthProviderLogout-DCXWQ30C.js:1:2542
ğŸ”’ Starting comprehensive browser security cleanup... index-cMDFwych.js:262:72262
âœ… Cleared 0 localStorage items index-cMDFwych.js:262:72396
âœ… Cleared 0 sessionStorage items index-cMDFwych.js:262:72575
âœ… Cleared 0 cookies index-cMDFwych.js:262:72750
âœ… Cleared 0 IndexedDB databases 2 index-cMDFwych.js:262:72908
âœ… Cleared 0 cache storages index-cMDFwych.js:262:73093
ğŸ”’ Security cleanup completed in 5.00ms index-cMDFwych.js:262:73391
âœ… Security cleanup completed: 
Object { localStorage: 1, sessionStorage: 8, cookies: 0, indexedDB: 0, cacheStorage: 0, duration: "5.00ms" }
index-cMDFwych.js:262:95082
ğŸ§¹ Complete secure cleanup finished index-cMDFwych.js:262:95504
âœ… User logged out successfully index-cMDFwych.js:228:1418
âœ… Cleared 0 cache storages index-cMDFwych.js:262:73093
ğŸ”’ Security cleanup completed in 5.00ms index-cMDFwych.js:262:73391
ğŸ§¹ Clearing all user tokens... index-cMDFwych.js:262:32126
ğŸ§¹ Refresh token cleared from secure storage index-cMDFwych.js:262:26148
âœ… Cleared tokens for 0 users index-cMDFwych.js:262:32415
ğŸ—‘ï¸ OAuth-related caches cleared index-cMDFwych.js:752:8993
Cookie â€œsessionâ€ has been rejected for invalid domain. 2 maxlab.dwchem.co.kr
Cookie â€œoauth_sessionâ€ has been rejected for invalid domain. 2 maxlab.dwchem.co.kr
Cookie â€œauth_sessionâ€ has been rejected for invalid domain. 2 maxlab.dwchem.co.kr
Cookie â€œcsrf_tokenâ€ has been rejected for invalid domain. 2 maxlab.dwchem.co.kr
Cookie â€œstateâ€ has been rejected for invalid domain. 2 maxlab.dwchem.co.kr
Cookie â€œsessionâ€ has been rejected for invalid domain. 2 maxlab.dwchem.co.kr
Cookie â€œoauth_sessionâ€ has been rejected for invalid domain. 2 maxlab.dwchem.co.kr
Cookie â€œauth_sessionâ€ has been rejected for invalid domain. 2 maxlab.dwchem.co.kr
Cookie â€œcsrf_tokenâ€ has been rejected for invalid domain. 2 maxlab.dwchem.co.kr
Cookie â€œstateâ€ has been rejected for invalid domain. 2 maxlab.dwchem.co.kr
Cookie â€œsessionâ€ has been rejected for invalid domain. 2 maxlab.dwchem.co.kr
Cookie â€œoauth_sessionâ€ has been rejected for invalid domain. 2 maxlab.dwchem.co.kr
Cookie â€œauth_sessionâ€ has been rejected for invalid domain. 2 maxlab.dwchem.co.kr
Cookie â€œcsrf_tokenâ€ has been rejected for invalid domain. 2 maxlab.dwchem.co.kr
Cookie â€œstateâ€ has been rejected for invalid domain. 2 maxlab.dwchem.co.kr
âœ… Comprehensive security cleanup completed: 
Object { localStorage: 0, sessionStorage: 0, cookies: 0, indexedDB: 0, duration: "5.00ms" }
index-cMDFwych.js:752:9510
ğŸ” OAuth communication keys verification: 
Array(5) [ {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦} ]
index-cMDFwych.js:752:10165
ğŸ” Security cleanup completed, starting fresh OAuth flow... index-cMDFwych.js:752:10224
ğŸš€ About to call loginWithPopupOAuth with forceAccountSelection: true index-cMDFwych.js:752:10735
ğŸ“Š Current state: 
Object { isAuthenticated: false, oauthLoading: false, hasAccessToken: false, hasUser: false, forceAccountSelectionFlag: null }
index-cMDFwych.js:752:10817
ğŸ” OAuth SessionStorage keys before popup: 
Array []
index-cMDFwych.js:752:11130
ğŸ”¥ About to call authService.loginWithPopupOAuth index-cMDFwych.js:752:11275
ğŸ”¥ authService object: 
Object { loginWithPopupOAuth: async loginWithPopupOAuth(e), attemptSilentLogin: async attemptSilentLogin(), getCurrentUser: async getCurrentUser(), validateToken: async validateToken(), logout: async logout(e), _secureCleanup: async _secureCleanup(), isAuthenticated: isAuthenticated(), getStoredUser: getStoredUser(), redirectToSignup: redirectToSignup(), refreshToken: async refreshToken(e), â€¦ }
index-cMDFwych.js:752:11339
ğŸ”¥ forceAccountSelection: true index-cMDFwych.js:752:11380
ğŸ” OAuth Configuration: 
Object { clientId: "maxlab", redirectUri: "https://maxlab.dwchem.co.kr/oauth/callback", authUrl: "https://max.dwchem.co.kr", envAuthUrl: "https://max.dwchem.co.kr", currentOrigin: "https://maxlab.dwchem.co.kr" }
index-cMDFwych.js:228:20660
ğŸ” Starting popup OAuth login (force account selection: true)... index-cMDFwych.js:262:86356
ğŸ§¹ Performing complete session cleanup for different user login... index-cMDFwych.js:262:86439
ğŸ§¹ Refresh token cleared from secure storage index-cMDFwych.js:262:26148
ğŸ§¹ Refresh token cleared from secure storage index-cMDFwych.js:262:51859
ğŸ§¹ Clearing all user tokens... index-cMDFwych.js:262:32126
ğŸ§¹ Refresh token cleared from secure storage index-cMDFwych.js:262:26148
âœ… Cleared tokens for 0 users index-cMDFwych.js:262:32415
ğŸ” User-isolated tokens cleared index-cMDFwych.js:262:54881
ğŸ§¹ All tokens cleared index-cMDFwych.js:262:54993
âœ… Cleared refresh tokens index-cMDFwych.js:262:86551
ğŸ§¹ Clearing all user tokens... index-cMDFwych.js:262:32126
ğŸ§¹ Refresh token cleared from secure storage index-cMDFwych.js:262:26148
âœ… Cleared tokens for 0 users index-cMDFwych.js:262:32415
âœ… Cleared user isolated tokens index-cMDFwych.js:262:86683
âœ… Cleared localStorage user data index-cMDFwych.js:262:86951
âœ… Forced auth store logout index-cMDFwych.js:262:87157
ğŸ“¤ Broadcasting auth event: LOGOUT index-cMDFwych.js:262:85238
âœ… Broadcasted logout to other tabs index-cMDFwych.js:262:87289
âœ… Complete session cleanup finished for different user login index-cMDFwych.js:262:87397
ğŸ§¹ Performing complete OAuth state cleanup for different user login... index-cMDFwych.js:228:21353
ğŸ—‘ï¸ Cleared OAuth sessionStorage keys: 
Array []
index-cMDFwych.js:228:21706
âœ… Complete OAuth state cleanup finished index-cMDFwych.js:228:21953
Cookie with an empty name and an empty value has been rejected. 3 maxlab.dwchem.co.kr
ğŸª OAuth provider cookies cleared oauthProviderLogout-DCXWQ30C.js:1:2542
ğŸª OAuth provider cookies cleared index-cMDFwych.js:262:94034
ğŸ§¹ Refresh token cleared from secure storage index-cMDFwych.js:262:26148
ğŸ§¹ Refresh token cleared from secure storage index-cMDFwych.js:262:51859
ğŸ§¹ Clearing all user tokens... index-cMDFwych.js:262:32126
ğŸ§¹ Refresh token cleared from secure storage index-cMDFwych.js:262:26148
âœ… Cleared tokens for 0 users index-cMDFwych.js:262:32415
ğŸ” User-isolated tokens cleared index-cMDFwych.js:262:54881
ğŸ§¹ All tokens cleared index-cMDFwych.js:262:54993
ğŸ”’ Starting comprehensive security cleanup... index-cMDFwych.js:262:94270
ğŸ§¹ Refresh token cleared from secure storage index-cMDFwych.js:262:26148
ğŸ§¹ Refresh token cleared from secure storage index-cMDFwych.js:262:51859
ğŸ§¹ Clearing all user tokens... index-cMDFwych.js:262:32126
ğŸ§¹ Refresh token cleared from secure storage index-cMDFwych.js:262:26148
âœ… Cleared tokens for 0 users index-cMDFwych.js:262:32415
ğŸ” User-isolated tokens cleared index-cMDFwych.js:262:54881
ğŸ§¹ All tokens cleared index-cMDFwych.js:262:54993
ğŸ§¹ Clearing all user tokens... index-cMDFwych.js:262:32126
ğŸ§¹ Refresh token cleared from secure storage index-cMDFwych.js:262:26148
âœ… Cleared tokens for 0 users index-cMDFwych.js:262:32415
ğŸ”’ Starting comprehensive browser security cleanup... index-cMDFwych.js:262:72262
âœ… Cleared 1 localStorage items index-cMDFwych.js:262:72396
âœ… Cleared 0 sessionStorage items index-cMDFwych.js:262:72575
âœ… Cleared 0 cookies index-cMDFwych.js:262:72750
âœ… Cleared 0 IndexedDB databases index-cMDFwych.js:262:72908
âœ… Cleared 0 cache storages index-cMDFwych.js:262:73093
ğŸ”’ Security cleanup completed in 4.00ms index-cMDFwych.js:262:73391
âœ… Security cleanup completed: 
Object { localStorage: 1, sessionStorage: 0, cookies: 0, indexedDB: 0, cacheStorage: 0, duration: "4.00ms" }
index-cMDFwych.js:262:95082
ğŸ§¹ Complete secure cleanup finished index-cMDFwych.js:262:95504
âœ… User logged out successfully index-cMDFwych.js:228:1418
ğŸ” OAuth flow state created: 
Object { flowId: "me0ue0w8depo3vno2yh", flowType: "popup", expiresIn: "900s", forceAccountSelection: true }
index-cMDFwych.js:228:12030
ğŸ”„ OAuth flow status updated: 
Object { flowId: "me0ue0w8depo3vno2yh", status: "in_progress", flowType: "popup" }
index-cMDFwych.js:228:14630
ğŸ” OAuth Flow State Created: 
Object { flowId: "me0ue0w8depo3vno2yh", flowType: "popup", state: "8UqXz1Wh...", codeVerifier: "IOMnufCC...", nonce: "h2l90ksM...", forceAccountSelection: true, expiresAt: "2025-08-07T03:48:25.640Z", timestamp: "2025-08-07T03:33:25.640Z" }
index-cMDFwych.js:228:22943
ğŸ”„ OAuth flow status updated: 
Object { flowId: "me0ue0w8depo3vno2yh", status: "in_progress", flowType: "popup" }
index-cMDFwych.js:228:14630
ğŸ”„ Forcing re-login with prompt=login + max_age=0 parameters index-cMDFwych.js:228:23881
ğŸ“‹ OAuth Parameters (forced login): 
Object { flowId: "me0ue0w8depo3vno2yh", state: "8UqXz1WhXwGGqKSOU3zC-_eblRuEH76kqteAQlxaWPc_force_1754537605640", prompt: "login", redirect_uri: "https://maxlab.dwchem.co.kr/oauth/callback", client_id: "maxlab", response_type: "code" }
index-cMDFwych.js:228:23957
ğŸ” Opening OAuth popup: https://max.dwchem.co.kr/api/oauth/authorize?response_type=code&client_id=maxlab&redirect_uri=https%3A%2F%2Fmaxlab.dwchem.co.kr%2Foauth%2Fcallback&scope=openid+profile+email+offline_access+read%3Aprofile+read%3Agroups+manage%3Aworkflows&state=8UqXz1WhXwGGqKSOU3zC-_eblRuEH76kqteAQlxaWPc_force_1754537605640&code_challenge=XPEEejYbLlbtYpdqH4IEvZe9T8t5GwXZzoR1gw4ae5M&code_challenge_method=S256&nonce=h2l90ksM8QLr3Pz0rNuZm8itFO2CnuoJVwUzEhTR9fI&prompt=login&max_age=0 index-cMDFwych.js:228:24242
ğŸ“‹ Full OAuth URL params: response_type=code&client_id=maxlab&redirect_uri=https%3A%2F%2Fmaxlab.dwchem.co.kr%2Foauth%2Fcallback&scope=openid+profile+email+offline_access+read%3Aprofile+read%3Agroups+manage%3Aworkflows&state=8UqXz1WhXwGGqKSOU3zC-_eblRuEH76kqteAQlxaWPc_force_1754537605640&code_challenge=XPEEejYbLlbtYpdqH4IEvZe9T8t5GwXZzoR1gw4ae5M&code_challenge_method=S256&nonce=h2l90ksM8QLr3Pz0rNuZm8itFO2CnuoJVwUzEhTR9fI&prompt=login&max_age=0 index-cMDFwych.js:228:24283
ğŸ“¡ Setting up message listeners before popup... index-cMDFwych.js:228:24337
âœ… OAuth popup opened successfully index-cMDFwych.js:233:153
ğŸš¨ Cross-origin access blocked - possible port mismatch after 3+ seconds warn 9 index-cMDFwych.js:233:977
ğŸ” Triggering proactive recovery (cross-origin detected) after 7140ms... index-cMDFwych.js:233:1101
ğŸ” OAuth completion detection analysis: 
Object { standardKeys: [], dynamicKeys: [], suspiciousNewKeys: [], hasOAuthParams: false, localStorageKeys: [], totalDetected: false }
index-cMDFwych.js:233:2590
ğŸš¨ Cross-origin suspected but no OAuth data found, trying recovery... 
Object { popupAge: 7140, suspectedPortMismatch: true }
index-cMDFwych.js:233:3621
ğŸ”„ Attempting cross-origin OAuth recovery (attempt 1/3) index-cMDFwych.js:228:5887
ğŸ“¨ Parent window received message: 
Object { type: "OAUTH_LOGIN_SUCCESS_CONTINUE", oauthParams: {â€¦}, timestamp: 1754537614332 }
index-cMDFwych.js:228:24433
ğŸ“¨ OAuth message validation: 
Object { origin: "https://max.dwchem.co.kr", messageType: "OAUTH_LOGIN_SUCCESS_CONTINUE", validationResult: {â€¦}, trustedOrigins: "https://maxlab.dwchem.co.kr,https://max.dwchem.co.kr,https://dwchem.co.kr..." }
index-cMDFwych.js:233:4457
ğŸš¨ SECURITY: Invalid message structure detected: 
Object { origin: "https://max.dwchem.co.kr", messageData: {â€¦}, expectedStructure: "OAuthMessage with type and data fields" }
index-cMDFwych.js:233:5004
âš ï¸ MEDIUM SECURITY VIOLATION: 
Object { timestamp: "2025-08-07T03:33:34.339Z", event: "oauth_security_violation", violation_type: "invalid_message_structure", origin: "https://max.dwchem.co.kr", expected_origin: "https://maxlab.dwchem.co.kr", message_type: "OAUTH_LOGIN_SUCCESS_CONTINUE", reason: undefined, severity: "medium", user_agent: "Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:141.0) Gecko/20100101 Firefox/141.0", referrer: "https://maxlab.dwchem.co.kr/", â€¦ }
index-cMDFwych.js:257:4463
ğŸ“¨ Parent window received message: 
Object { type: "OAUTH_ALREADY_AUTHENTICATED", oauthParams: {â€¦}, timestamp: 1754537614334 }
index-cMDFwych.js:228:24433
ğŸ“¨ OAuth message validation: 
Object { origin: "https://max.dwchem.co.kr", messageType: "OAUTH_ALREADY_AUTHENTICATED", validationResult: {â€¦}, trustedOrigins: "https://maxlab.dwchem.co.kr,https://max.dwchem.co.kr,https://dwchem.co.kr..." }
index-cMDFwych.js:233:4457
ğŸš¨ SECURITY: Invalid message structure detected: 
Object { origin: "https://max.dwchem.co.kr", messageData: {â€¦}, expectedStructure: "OAuthMessage with type and data fields" }
index-cMDFwych.js:233:5004
âš ï¸ MEDIUM SECURITY VIOLATION: 
Object { timestamp: "2025-08-07T03:33:34.340Z", event: "oauth_security_violation", violation_type: "invalid_message_structure", origin: "https://max.dwchem.co.kr", expected_origin: "https://maxlab.dwchem.co.kr", message_type: "OAUTH_ALREADY_AUTHENTICATED", reason: undefined, severity: "medium", user_agent: "Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:141.0) Gecko/20100101 Firefox/141.0", referrer: "https://maxlab.dwchem.co.kr/", â€¦ }
index-cMDFwych.js:257:4463
ğŸšª Popup closed without receiving message - attempting cross-origin recovery index-cMDFwych.js:233:339
âš ï¸ Cross-origin recovery already in progress, skipping duplicate attempt index-cMDFwych.js:228:5556
âŒ Cross-origin recovery failed, user likely cancelled index-cMDFwych.js:233:614
Recovery error: Recovery already in progress index-cMDFwych.js:233:683
ğŸ” Searching for OAuth flow state with state: 8UqXz1Wh... index-cMDFwych.js:228:12203
ğŸ“‹ Found total flow states: 1 index-cMDFwych.js:228:12320
ğŸ” Flow state not found in getAllFlowStates, trying direct sessionStorage search... index-cMDFwych.js:228:12408
ğŸ” Checking stored flow: 
Object { key: "oauth_flow_me0ue0w8depo3vno2yh", flowId: "me0ue0w8depo3vno2yh", storedState: "8UqXz1Wh...", matchesSearch: false }
index-cMDFwych.js:228:12691
ğŸ” State contains _force_, trying to find original state... index-cMDFwych.js:228:13087
ğŸ” Looking for original state: 8UqXz1Wh... index-cMDFwych.js:228:13195
âœ… Updating flow state to use modified state: 8UqXz1Wh... index-cMDFwych.js:228:13729
âœ… Found OAuth flow state: 
Object { flowId: "me0ue0w8depo3vno2yh", flowType: "popup", status: "in_progress", hasCodeVerifier: true, codeVerifierLength: 43 }
index-cMDFwych.js:228:13857
ğŸ”„ OAuth flow status updated: 
Object { flowId: "me0ue0w8depo3vno2yh", status: "failed", flowType: "popup" }
index-cMDFwych.js:228:14630
ğŸ”„ OAuth flow state updated to: 
Object { flowId: "me0ue0w8depo3vno2yh", status: "failed", messageReceived: false }
index-cMDFwych.js:257:678
âš ï¸ Preserving oauth_force_account_selection due to no success result index-cMDFwych.js:257:1444
Popup OAuth login error: Error: Authentication was cancelled by the user
    checkInterval https://maxlab.dwchem.co.kr/assets/index-cMDFwych.js:233
    checkInterval https://maxlab.dwchem.co.kr/assets/index-cMDFwych.js:233
    setInterval handler*startAuth/< https://maxlab.dwchem.co.kr/assets/index-cMDFwych.js:233
    startAuth https://maxlab.dwchem.co.kr/assets/index-cMDFwych.js:228
    loginWithPopupOAuth https://maxlab.dwchem.co.kr/assets/index-cMDFwych.js:262
    V https://maxlab.dwchem.co.kr/assets/index-cMDFwych.js:752
    onClick https://maxlab.dwchem.co.kr/assets/index-cMDFwych.js:768
    D0 https://maxlab.dwchem.co.kr/assets/index-cMDFwych.js:48
    of https://maxlab.dwchem.co.kr/assets/index-cMDFwych.js:48
    Pp https://maxlab.dwchem.co.kr/assets/index-cMDFwych.js:48
    of https://maxlab.dwchem.co.kr/assets/index-cMDFwych.js:48
    vf https://maxlab.dwchem.co.kr/assets/index-cMDFwych.js:49
    bk https://maxlab.dwchem.co.kr/assets/index-cMDFwych.js:49
    I0 https://maxlab.dwchem.co.kr/assets/index-cMDFwych.js:48
    rf https://maxlab.dwchem.co.kr/assets/index-cMDFwych.js:48
    af https://maxlab.dwchem.co.kr/assets/index-cMDFwych.js:48
    af https://maxlab.dwchem.co.kr/assets/index-cMDFwych.js:48
    createRoot https://maxlab.dwchem.co.kr/assets/index-cMDFwych.js:49
    <anonymous> https://maxlab.dwchem.co.kr/assets/index-cMDFwych.js:864
index-cMDFwych.js:262:89290
âš ï¸ Preserving oauth_force_account_selection due to no success result index-cMDFwych.js:257:1444
ğŸ”¥ authService.loginWithPopupOAuth error: Error: Login was cancelled by the user.
    loginWithPopupOAuth https://maxlab.dwchem.co.kr/assets/index-cMDFwych.js:262
    V https://maxlab.dwchem.co.kr/assets/index-cMDFwych.js:752
    onClick https://maxlab.dwchem.co.kr/assets/index-cMDFwych.js:768
    D0 https://maxlab.dwchem.co.kr/assets/index-cMDFwych.js:48
    of https://maxlab.dwchem.co.kr/assets/index-cMDFwych.js:48
    Pp https://maxlab.dwchem.co.kr/assets/index-cMDFwych.js:48
    of https://maxlab.dwchem.co.kr/assets/index-cMDFwych.js:48
    vf https://maxlab.dwchem.co.kr/assets/index-cMDFwych.js:49
    bk https://maxlab.dwchem.co.kr/assets/index-cMDFwych.js:49
    I0 https://maxlab.dwchem.co.kr/assets/index-cMDFwych.js:48
    rf https://maxlab.dwchem.co.kr/assets/index-cMDFwych.js:48
    af https://maxlab.dwchem.co.kr/assets/index-cMDFwych.js:48
    af https://maxlab.dwchem.co.kr/assets/index-cMDFwych.js:48
    createRoot https://maxlab.dwchem.co.kr/assets/index-cMDFwych.js:49
    <anonymous> https://maxlab.dwchem.co.kr/assets/index-cMDFwych.js:864
index-cMDFwych.js:752:11656
ğŸ”¥ Error stack: loginWithPopupOAuth@https://maxlab.dwchem.co.kr/assets/index-cMDFwych.js:262:89471
async*V@https://maxlab.dwchem.co.kr/assets/index-cMDFwych.js:752:11427
async*onClick@https://maxlab.dwchem.co.kr/assets/index-cMDFwych.js:768:3416
D0@https://maxlab.dwchem.co.kr/assets/index-cMDFwych.js:48:118234
Ok/of/<@https://maxlab.dwchem.co.kr/assets/index-cMDFwych.js:48:123532
Pp@https://maxlab.dwchem.co.kr/assets/index-cMDFwych.js:48:9041
of@https://maxlab.dwchem.co.kr/assets/index-cMDFwych.js:48:119471
vf@https://maxlab.dwchem.co.kr/assets/index-cMDFwych.js:49:26825
bk@https://maxlab.dwchem.co.kr/assets/index-cMDFwych.js:49:26645
EventListener.handleEvent*I0@https://maxlab.dwchem.co.kr/assets/index-cMDFwych.js:48:119032
rf@https://maxlab.dwchem.co.kr/assets/index-cMDFwych.js:48:118432
Ok/af/<@https://maxlab.dwchem.co.kr/assets/index-cMDFwych.js:48:118598
af@https://maxlab.dwchem.co.kr/assets/index-cMDFwych.js:48:118543
Ok/Ui.createRoot@https://maxlab.dwchem.co.kr/assets/index-cMDFwych.js:49:33858
@https://maxlab.dwchem.co.kr/assets/index-cMDFwych.js:864:100796
index-cMDFwych.js:752:11739
OAuth login error: Error: Login was cancelled by the user.
    loginWithPopupOAuth https://maxlab.dwchem.co.kr/assets/index-cMDFwych.js:262
    V https://maxlab.dwchem.co.kr/assets/index-cMDFwych.js:752
    onClick https://maxlab.dwchem.co.kr/assets/index-cMDFwych.js:768
    D0 https://maxlab.dwchem.co.kr/assets/index-cMDFwych.js:48
    of https://maxlab.dwchem.co.kr/assets/index-cMDFwych.js:48
    Pp https://maxlab.dwchem.co.kr/assets/index-cMDFwych.js:48
    of https://maxlab.dwchem.co.kr/assets/index-cMDFwych.js:48
    vf https://maxlab.dwchem.co.kr/assets/index-cMDFwych.js:49
    bk https://maxlab.dwchem.co.kr/assets/index-cMDFwych.js:49
    I0 https://maxlab.dwchem.co.kr/assets/index-cMDFwych.js:48
    rf https://maxlab.dwchem.co.kr/assets/index-cMDFwych.js:48
    af https://maxlab.dwchem.co.kr/assets/index-cMDFwych.js:48
    af https://maxlab.dwchem.co.kr/assets/index-cMDFwych.js:48
    createRoot https://maxlab.dwchem.co.kr/assets/index-cMDFwych.js:49
    <anonymous> https://maxlab.dwchem.co.kr/assets/index-cMDFwych.js:864
index-cMDFwych.js:752:12441
ğŸ”¥ Finally block executed index-cMDFwych.js:768:388
ğŸ”¥ mountedRef.current: false index-cMDFwych.js:768:429
ğŸ”¥ About to set oauthLoading to false index-cMDFwych.js:768:477
ğŸ”¥ oauthLoading set to false index-cMDFwych.js:768:536
